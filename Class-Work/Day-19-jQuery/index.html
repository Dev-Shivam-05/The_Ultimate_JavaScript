<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Dashboard</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" type="text/javascript"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Accordion Animation */
        .accordion-content {
            transition: grid-template-rows 0.4s ease-out, opacity 0.4s ease;
            display: grid;
            grid-template-rows: 0fr;
            opacity: 0;
        }
        .accordion-content > div {
            overflow: hidden;
        }
        .accordion-content.active {
            grid-template-rows: 1fr;
            opacity: 1;
        }
        
        /* Chevron Rotation */
        .chevron {
            transition: transform 0.3s ease;
        }
        .accordion-btn[aria-expanded="true"] .chevron {
            transform: rotate(180deg);
        }

        /* Animations */
        .animate-fade-up {
            animation: fadeUp 0.6s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        @keyframes fadeUp {
            to { opacity: 1; transform: translateY(0); }
        }

        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen text-slate-800 selection:bg-indigo-100 selection:text-indigo-700">

    <div class="max-w-4xl mx-auto px-4 py-10">
        <!-- Header -->
        <header class="mb-8 animate-fade-up">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600">
                        Dashboard
                    </h1>
                    <p class="text-slate-500 mt-1">Overview of your performance and tasks.</p>
                </div>
                <div class="h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 shadow-sm ring-2 ring-white">
                    <i class="fa-solid fa-user"></i>
                </div>
            </div>
        </header>

        <!-- Accordion Container -->
        <div class="space-y-4">
            
            <!-- 1. Performance Section -->
            <div class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden animate-fade-up delay-100 hover:shadow-md transition-shadow duration-300">
                <button class="accordion-btn w-full px-6 py-4 flex items-center justify-between bg-white hover:bg-slate-50/50 transition-colors group" onclick="toggleAccordion('performance', this)">
                    <div class="flex items-center gap-4">
                        <div class="h-10 w-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                            <i class="fa-solid fa-chart-line text-lg"></i>
                        </div>
                        <div class="text-left">
                            <h2 class="text-lg font-semibold text-slate-800">Performance Overview</h2>
                            <p class="text-xs text-slate-500">Weekly revenue stats</p>
                        </div>
                    </div>
                    <i class="fa-solid fa-chevron-down text-slate-400 chevron"></i>
                </button>
                
                <div id="performance" class="accordion-content active">
                    <div class="bg-white">
                        <div class="p-6 pt-2">
                            <div class="flex justify-end mb-4 gap-2">
                                <button class="px-3 py-1 text-xs font-medium bg-indigo-50 text-indigo-600 rounded-full hover:bg-indigo-100 transition-colors">Weekly</button>
                                <button class="px-3 py-1 text-xs font-medium text-slate-500 hover:text-slate-700 rounded-full transition-colors">Monthly</button>
                            </div>
                            <div class="relative h-64 w-full">
                                <canvas id="performanceChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2. Tasks Section -->
            <div class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden animate-fade-up delay-200 hover:shadow-md transition-shadow duration-300">
                <button class="accordion-btn w-full px-6 py-4 flex items-center justify-between bg-white hover:bg-slate-50/50 transition-colors group" onclick="toggleAccordion('tasks', this)">
                    <div class="flex items-center gap-4">
                        <div class="h-10 w-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                            <i class="fa-solid fa-list-check text-lg"></i>
                        </div>
                        <div class="text-left">
                            <h2 class="text-lg font-semibold text-slate-800">Recent Tasks</h2>
                            <p class="text-xs text-slate-500">3 tasks pending</p>
                        </div>
                    </div>
                    <i class="fa-solid fa-chevron-down text-slate-400 chevron"></i>
                </button>

                <div id="tasks" class="accordion-content">
                    <div class="bg-white">
                        <div class="p-6 pt-2">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-sm font-semibold text-slate-400 uppercase tracking-wider">Priority List</h3>
                                <button class="text-xs bg-emerald-600 text-white px-3 py-1.5 rounded-lg shadow-sm hover:bg-emerald-700 transition-colors flex items-center gap-1">
                                    <i class="fa-solid fa-plus"></i> Add New
                                </button>
                            </div>
                            
                            <div class="space-y-3">
                                <!-- Task Item 1 -->
                                <div class="p-4 rounded-xl bg-slate-50 border border-slate-100 hover:border-indigo-200 hover:bg-indigo-50/30 transition-all group">
                                    <div class="flex justify-between items-start mb-2">
                                        <div>
                                            <h4 class="font-medium text-slate-800 group-hover:text-indigo-700 transition-colors">Design System Update</h4>
                                            <p class="text-xs text-slate-500 mt-0.5 flex items-center gap-1">
                                                <i class="fa-regular fa-clock"></i> Due: Today
                                            </p>
                                        </div>
                                        <span class="px-2 py-1 bg-purple-100 text-purple-700 text-[10px] font-bold rounded-md uppercase tracking-wide">Design</span>
                                    </div>
                                    <div class="w-full bg-slate-200 rounded-full h-1.5 mt-2 overflow-hidden">
                                        <div class="bg-purple-500 h-1.5 rounded-full transition-all duration-1000 ease-out" style="width: 75%"></div>
                                    </div>
                                </div>

                                <!-- Task Item 2 -->
                                <div class="p-4 rounded-xl bg-slate-50 border border-slate-100 hover:border-emerald-200 hover:bg-emerald-50/30 transition-all group">
                                    <div class="flex justify-between items-start mb-2">
                                        <div>
                                            <h4 class="font-medium text-slate-800 group-hover:text-emerald-700 transition-colors">Client Meeting</h4>
                                            <p class="text-xs text-slate-500 mt-0.5 flex items-center gap-1">
                                                <i class="fa-regular fa-clock"></i> Due: Tomorrow
                                            </p>
                                        </div>
                                        <span class="px-2 py-1 bg-emerald-100 text-emerald-700 text-[10px] font-bold rounded-md uppercase tracking-wide">Meeting</span>
                                    </div>
                                    <div class="w-full bg-slate-200 rounded-full h-1.5 mt-2 overflow-hidden">
                                        <div class="bg-emerald-500 h-1.5 rounded-full transition-all duration-1000 ease-out" style="width: 30%"></div>
                                    </div>
                                </div>

                                <!-- Task Item 3 -->
                                <div class="p-4 rounded-xl bg-slate-50 border border-slate-100 hover:border-amber-200 hover:bg-amber-50/30 transition-all group">
                                    <div class="flex justify-between items-start mb-2">
                                        <div>
                                            <h4 class="font-medium text-slate-800 group-hover:text-amber-700 transition-colors">API Integration</h4>
                                            <p class="text-xs text-slate-500 mt-0.5 flex items-center gap-1">
                                                <i class="fa-regular fa-clock"></i> Due: 3 Days
                                            </p>
                                        </div>
                                        <span class="px-2 py-1 bg-amber-100 text-amber-700 text-[10px] font-bold rounded-md uppercase tracking-wide">Dev</span>
                                    </div>
                                    <div class="w-full bg-slate-200 rounded-full h-1.5 mt-2 overflow-hidden">
                                        <div class="bg-amber-500 h-1.5 rounded-full transition-all duration-1000 ease-out" style="width: 60%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 3. Analytics Section -->
            <div class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden animate-fade-up delay-300 hover:shadow-md transition-shadow duration-300">
                <button class="accordion-btn w-full px-6 py-4 flex items-center justify-between bg-white hover:bg-slate-50/50 transition-colors group" onclick="toggleAccordion('analytics', this)">
                    <div class="flex items-center gap-4">
                        <div class="h-10 w-10 rounded-xl bg-rose-50 text-rose-600 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                            <i class="fa-solid fa-chart-pie text-lg"></i>
                        </div>
                        <div class="text-left">
                            <h2 class="text-lg font-semibold text-slate-800">Analytics Dashboard</h2>
                            <p class="text-xs text-slate-500">Traffic & Engagement</p>
                        </div>
                    </div>
                    <i class="fa-solid fa-chevron-down text-slate-400 chevron"></i>
                </button>

                <div id="analytics" class="accordion-content">
                    <div class="bg-white">
                        <div class="p-6 pt-2">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="bg-slate-50 rounded-xl p-4 border border-slate-100">
                                    <h5 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 text-center">User Engagement</h5>
                                    <div class="h-40 w-full flex justify-center">
                                        <canvas id="engagementChart"></canvas>
                                    </div>
                                </div>
                                <div class="bg-slate-50 rounded-xl p-4 border border-slate-100">
                                    <h5 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 text-center">Traffic Sources</h5>
                                    <div class="h-40 w-full flex justify-center">
                                        <canvas id="trafficChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        // === Accordion Logic ===
        function toggleAccordion(targetId, btnElement) {
            const content = document.getElementById(targetId);
            const isAlreadyOpen = content.classList.contains('active');

            // Close all sections
            document.querySelectorAll('.accordion-content').forEach(el => {
                el.classList.remove('active');
            });
            document.querySelectorAll('.accordion-btn').forEach(btn => {
                btn.setAttribute('aria-expanded', 'false');
            });

            // If it wasn't already open, open it
            if (!isAlreadyOpen) {
                content.classList.add('active');
                btnElement.setAttribute('aria-expanded', 'true');
            }
        }

        // Set initial state
        document.addEventListener('DOMContentLoaded', () => {
            // Open first item by default
            const firstBtn = document.querySelector('.accordion-btn');
            firstBtn.setAttribute('aria-expanded', 'true');
            
            // Initialize Charts
            initCharts();
        });

        // === Chart.js Configuration ===
        Chart.defaults.font.family = "'Inter', sans-serif";
        Chart.defaults.color = '#64748b';

        function initCharts() {
            // 1. Performance Chart (Line)
            const ctxPerf = document.getElementById('performanceChart').getContext('2d');
            const gradientPerf = ctxPerf.createLinearGradient(0, 0, 0, 300);
            gradientPerf.addColorStop(0, 'rgba(79, 70, 229, 0.15)');
            gradientPerf.addColorStop(1, 'rgba(79, 70, 229, 0)');

            new Chart(ctxPerf, {
                type: 'line',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    datasets: [{
                        label: 'Revenue ($)',
                        data: [1250, 1800, 1500, 2400, 1900, 3200, 3800],
                        borderColor: '#4f46e5',
                        backgroundColor: gradientPerf,
                        borderWidth: 3,
                        tension: 0.4,
                        fill: true,
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#4f46e5',
                        pointBorderWidth: 2,
                        pointRadius: 4,
                        pointHoverRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            backgroundColor: '#1e293b',
                            padding: 12,
                            cornerRadius: 8,
                            titleFont: { size: 13 },
                            bodyFont: { size: 13 },
                            displayColors: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: { borderDash: [4, 4], color: '#f1f5f9' },
                            ticks: { callback: (value) => '$' + value }
                        },
                        x: {
                            grid: { display: false }
                        }
                    }
                }
            });

            // 2. Engagement Chart (Bar)
            new Chart(document.getElementById('engagementChart'), {
                type: 'bar',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu'],
                    datasets: [{
                        label: 'Users',
                        data: [400, 300, 500, 450],
                        backgroundColor: [
                            '#6366f1', '#8b5cf6', '#ec4899', '#f43f5e'
                        ],
                        borderRadius: 4,
                        barThickness: 20
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        x: { grid: { display: false } },
                        y: { display: false }
                    }
                }
            });

            // 3. Traffic Chart (Doughnut)
            new Chart(document.getElementById('trafficChart'), {
                type: 'doughnut',
                data: {
                    labels: ['Mobile', 'Desktop', 'Tablet'],
                    datasets: [{
                        data: [55, 35, 10],
                        backgroundColor: ['#3b82f6', '#10b981', '#f59e0b'],
                        borderWidth: 0,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '75%',
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { boxWidth: 10, padding: 15, font: { size: 11 } }
                        }
                    }
                }
            });
        }
    </script>
    <script>
        $(document).ready(() => {
            let array = $('.accordion-content');
        })
    </script>
</body>
</html>